<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="./banana-republic-8795547353.css">
<link rel="stylesheet" type="text/css" href="./brfs-sitewide.css">
<!-- Add the slick-theme.css if you want default styling -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.css"/>
<!-- Add the slick-theme.css if you want default styling -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick-theme.css"/>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.min.js"></script>
<!-- CIID: 15125226 BROL US -->
<!-- Linen EBB 4/5/18 -->
<style type="text/css">
.linen-ebb{display:none;position:relative;}
.linen-sprite-position {width:25%;}
.linen-sprite-container {position: relative;}

.linen-sprite-container:before {
  content: "";
  display: block;
  padding-top: 153.75%; 
}

.linen-sprite {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
}

.linen-sprite.anim-loaded {background:url('./assets/linen.jpg') no-repeat 0 0; background-size: 100%;}

.slick-current .linen-sprite.anim-loaded{animation: sprite 1.3s steps(13) infinite;}

.slick-current .linen-sprite.pause{animation-play-state: paused;}

@keyframes sprite {
  from { background-position: 0 0%; }
  to { background-position: 0 100%; }
}

.slick-initialized .slick-slide{height:auto;}
.slick-next{right:0;}.slick-prev{left:0;}
.slick-next, .slick-prev {width: auto;height: 100%; z-index:2;}
.slick-next:before, .slick-prev:before{content:none;}
.slick-next.bounce{animation: bounce 1s ease infinite;}

@keyframes bounce {0% {right:0;} 50% {right:1%;} 100% {right:0;}}
</style>
<div class="mkt_content-wrapper" style="width:1200px; max-height:462px">
  <div class="linen-ebb sds_relative">
    <div class="sds_relative">
      <picture>
        <source media="(max-width: 1023px)" srcset="./assets/180313_BRFOL_US_W_BB_Suits_IMG_SML.jpg">
        <source media="(min-width: 1024px)" srcset="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_IMG_01.jpg">
        <img alt="womens suiting" src="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_IMG_01.jpg">
      </picture>
      <div class="linen-sprite-position sds_absolute mkt_absolute--top-left">
        <div class="linen-sprite-container">
          <div class="linen-sprite"></div>
        </div>
      </div>
      <picture class="sds_absolute mkt_absolute--top-left sds_full">
        <source media="(max-width: 1023px)" srcset="./assets/180313_BRFOL_US_W_BB_Suits_Copy_SML.svg">
        <source media="(min-width: 1024px)" srcset="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_Text_01.svg">
        <img alt="womens suiting" src="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_Text_01.svg">
      </picture>
    </div>
    <div class="sds_relative">
      <picture>
        <source media="(max-width: 1023px)" srcset="./assets/180313_BRFOL_US_W_BB_Suits_IMG_SML.jpg">
        <source media="(min-width: 1024px)" srcset="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_IMG_02.jpg">
        <img alt="womens suiting" src="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_IMG_02.jpg">
      </picture>
      <picture class="sds_absolute mkt_absolute--top-left sds_full">
        <source media="(max-width: 1023px)" srcset="./assets/180313_BRFOL_US_W_BB_Suits_Copy_SML.svg">
        <source media="(min-width: 1024px)" srcset="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_Text_02.svg">
        <img alt="womens suiting" src="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_Text_02.svg">
      </picture>
    </div>
    <div class="sds_relative">
      <picture>
        <source media="(max-width: 1023px)" srcset="./assets/180313_BRFOL_US_W_BB_Suits_IMG_SML.jpg">
        <source media="(min-width: 1024px)" srcset="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_IMG_03.jpg">
        <img alt="womens suiting" src="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_IMG_03.jpg">
      </picture>
      <picture class="sds_absolute mkt_absolute--top-left sds_full">
        <source media="(max-width: 1023px)" srcset="./assets/180313_BRFOL_US_W_BB_Suits_Copy_SML.svg">
        <source media="(min-width: 1024px)" srcset="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_Text_03.svg">
        <img alt="womens suiting" src="./assets/BRSP180405_USCA_W_LinenPrimary_BB_XL_Carousel_Text_03.svg">
      </picture>
    </div>
  </div>
</div>
<!-- Page-specific code for category marketing -->
<div id="hideMarketingContent" style="display:none;">
  <!--Banner inserts-->
  <div class="blazersSubcat"></div>
  <div class="suitsSubcat"></div>
  <div class="pantsSubcat"></div>
  <!-- Grid Insort -->
  <div class="blazersISM sds_color-background--bk sds_sp">
    <picture>
      <source media="(max-width: 1023px)" srcset="./assets/ism/180313_BRFOL_US_ISM_Women_Suiting_Blazers_Copy_SML.svg">
      <source media="(min-width: 1024px)" srcset="./assets/ism/180313_BRFOL_US_ISM_Women_Suiting_Blazers_Copy_XL.svg">
      <img class="sds_full" alt="womens suiting" src="./assets/ism/180313_BRFOL_US_ISM_Women_Suiting_Blazers_Copy_XL.svg">
    </picture>
  </div>
  <div class="suitsISM sds_color-background--bk sds_sp">
    <picture>
      <source media="(max-width: 1023px)" srcset="./assets/ism/180313_BRFOL_US_ISM_Women_Suiting_SuitSets_Copy_SML.svg">
      <source media="(min-width: 1024px)" srcset="./assets/ism/180313_BRFOL_US_ISM_Women_Suiting_SuitSets_Copy_XL.svg">
      <img class="sds_full" alt="womens suiting" src="./assets/ism/180313_BRFOL_US_ISM_Women_Suiting_SuitSets_Copy_XL.svg">
    </picture>
  </div>
  <div class="pantsISM sds_color-background--bk sds_sp">
    <picture>
      <source media="(max-width: 1023px)" srcset="./assets/ism/180313_BRFOL_US_ISM_Women_Suiting_PantsAndSkirts_Copy_SML.svg">
      <source media="(min-width: 1024px)" srcset="./assets/ism/180313_BRFOL_US_ISM_Women_Suiting_PantsAndSkirts_Copy_XL.svg">
      <img class="sds_full" alt="womens suiting" src="./assets/ism/180313_BRFOL_US_ISM_Women_Suiting_PantsAndSkirts_Copy_XL.svg">
    </picture>
  </div>
</div>

<script type="text/javascript">

function loadSprite(src, callback) {
  var sprite = new Image();
  sprite.onload = callback;
  sprite.src = src;
}

loadSprite('./assets/linen.jpg', function() {
    var sprite = document.getElementsByClassName('linen-sprite')[0];
    sprite.classList.add('anim-loaded');
});

(function(){
  var wcdAnimControl = function(el){
  this.hidden = 0;
  this.current = 0;
  this.parent = document.getElementsByClassName(el)[0].parentNode
  this.animation = document.getElementsByClassName(el)[0]
  this.intervalId = 0;
  this.paused = true;
  this.button;
  
  var that = this;

  this.init = function(){
    that.generatePauseButton();

    that.button.addEventListener('click', function(){
          !that.paused ? that.pause() : that.play();
      });

    var event = document.createEvent('HTMLEvents');
    event.initEvent('click', true, false);
    that.button.dispatchEvent(event);
  }

  this.play = function(){
    that.paused = false;
    that.button.className = "playbutton active";
    that.animation.classList.remove('pause');
  }

  this.generatePauseButton = function(){
        var html = "<a class='playbutton'><span class='sds_visually-hidden'>pause play button</span></a>"
        var css = ".animcontrol{position: absolute;top:93%;left:3%; padding:2% 2%;}.playbutton{cursor:pointer;border-bottom:8px solid transparent;border-left:12px solid #999;border-top:8px solid transparent;display:inline-block;height:0;position:relative;width:0;z-index:1;transition:all 0.2s;-webkit-transition:all 0.2s;-moz-transition:all 0.2s}.playbutton:before{border-radius:0;10 content:'';position:absolute;z-index:2 transition:all 0.2s;-webkit-transition:all 0.2s;-moz-transition:all 0.2s}.playbutton:after{content:'';opacity:0;transition:opacity 0.6s;-webkit-transition:opacity 0.6s;-moz-transition:opacity 0.6s}.playbutton.active{border-color:transparent}.playbutton.active:after{border-left:4px solid #999;border-right:4px solid #999;content:'';height:15px;opacity:1;position:absolute;right:0;top:-7px;width:5px;}",
        style = document.createElement('style');
        div = document.createElement('div');
        that.parent.insertBefore(style, that.parent.firstChild);
        that.parent.appendChild(div);
        style.type = 'text/css';
        div.className = 'animcontrol';

        style.innerHTML = css;
        div.innerHTML = html;
        that.button = that.parent.querySelectorAll('div.animcontrol .playbutton')[0];
    }

    this.pause = function(){
        that.animation.className += ' ' + 'pause';
        that.paused = true;
        that.button.className = "playbutton";
    }

    this.init();
}

var linen_anim_control = new wcdAnimControl("linen-sprite");
})();

jQuery(document).ready(function(){
  jQuery(".linen-ebb").slick({
      lazyLoad: 'ondemand',
      dots: false,
      infinite: true,
      arrows: true,
      prevArrow: '<button type="button" class="slick-prev"><img alt="previous slide" src="./assets/Arrow_Left.svg"></button>',
      nextArrow: '<button type="button" class="slick-next bounce"><img alt="next slide" src="./assets/Arrow_Right.svg"></button>'
    });
  jQuery(".linen-ebb").show();

  jQuery(".slick-next").one('click', function(){console.log('one click remove');console.log(jQuery(this));jQuery(this).removeClass('bounce')})
});

</script>

<!-- ================================= End EBB ============================================= -->
<script type="text/javascript">
// ISM code
jQuery(document).ready(function(e) {
  /*if (window["wcdCategoryMarketing"] !== undefined) {
    wcdCategoryMarketing.inSortMarketing({
      "subcatHeaders": [
          { 'marketing':'blazersSubcat', 'subcatCid':'1045465', 'jsCallback':'' },
          { 'marketing':'suitsSubcat', 'subcatCid':'1070908', 'jsCallback':'' },
          { 'marketing':'pantsSubcat', 'subcatCid':'1076370', 'jsCallback':'' }
      ]
    }, {
      "isms": [
           { 'marketing':'blazersISM', 'subcatCid':'1045465', 'size':'2', 'position':'beginning', 'jsCallback':'' },
           { 'marketing':'suitsISM', 'subcatCid':'1070908', 'size':'2', 'position':'beginning', 'jsCallback':'' },
           { 'marketing':'pantsISM', 'subcatCid':'1076370', 'size':'2', 'position':'beginning', 'jsCallback':'' }
      ]
    });
  }*/
});
</script>
